[[host]]
=== Host Installation and Execution
[WARNING]
Testing series coming from 'patchwork' without inspection may be risky on an insufficiently secured
environment; if that is the case, it is [red]#strongly recommended# to execute patchtest in a guest machine
as indicated on the <<guest, guest>> section.

[[env-vars]]
* Define the following environment variables

[source,shell]
----
BASE=$PWD/pt
PW=$BASE/patchwork
PT=$BASE/patchtest
SUITE=$BASE/patchtest-oe
START=$SUITE/tests
REPO=$BASE/poky
-----

[[cloning]]
* Clone repositories
[NOTE]
In case you already have the following repositories, make sure you update them before testing.
The 'patchtest' and in this case, the suite, are live projects, and thus more checks are
planned to be added, so keeping them up to date is important.

[source,shell]
----
mkdir $BASE
git clone https://github.com/dlespiau/patchwork.git $PW
git clone git://git.yoctoproject.org/patchtest $PT
git clone git://git.yoctoproject.org/patchtest-oe $SUITE
git clone git://git.openembedded.org/poky $REPO
----

[[path]]
* Append the following tool paths to the environment variable 'PATH'

[source,shell]
----
export PATH="$PATH:$PW/git-pw/:$PT/scripts:$PT:"
----

[[requirements]]
* Using 'pip', install the python requirements for `git-pw` and the test suite
[NOTE]
You can use your distribution package manager instead of 'pip' to install
such python requirements

[source,shell]
----
cd $PW/git-pw; pip install -r requirements.txt
cd $SUITE; pip install -r requirements.txt
----

The tool is ready to be used. It is worth mentioning that the above
steps consider the 'OE-core' and its corresponding suite ('patchtest-oe')
as examples. Any other project/suite can be configured in a similar fashion.
Despite the upstream links being different, the rest of the instructions remain valid.
For reference, some command line examples are shown under the <<usage, usage>> section.
