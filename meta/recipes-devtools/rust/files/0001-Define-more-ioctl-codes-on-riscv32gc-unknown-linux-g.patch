From d98ea9082af39ed003be8f1d96f7315de663e89f Mon Sep 17 00:00:00 2001
From: Khem Raj <raj.khem@gmail.com>
Date: Sun, 6 Apr 2025 08:29:28 -0700
Subject: [PATCH] Define more ioctl codes on riscv32gc-unknown-linux-gnu

Define ioctl codes including `FICLONE` and `FS_IOC32_GETVERSION` on
riscv32gc-unknown-linux-gnu.

Upstream-Status: Submitted [https://github.com/rust-lang/libc/pull/4382]

Signed-off-by: Khem Raj <raj.khem@gmail.com>
---
 vendor/libc-0.2.169/.cargo-checksum.json                    | 2 +-
 .../src/unix/linux_like/linux/arch/generic/mod.rs           | 4 +++-

diff --git a/vendor/libc-0.2.169/src/unix/linux_like/linux/arch/generic/mod.rs b/vendor/libc-0.2.169/src/unix/linux_like/linux/arch/generic/mod.rs
index 10953fe78..e9fd7fcce 100644
--- a/vendor/libc-0.2.169/src/unix/linux_like/linux/arch/generic/mod.rs
+++ b/vendor/libc-0.2.169/src/unix/linux_like/linux/arch/generic/mod.rs
@@ -122,6 +122,7 @@ cfg_if! {
         target_arch = "x86_64",
         target_arch = "arm",
         target_arch = "aarch64",
+        target_arch = "riscv32",
         target_arch = "riscv64",
         target_arch = "s390x",
         target_arch = "csky",
@@ -258,7 +259,8 @@ cfg_if! {
     if #[cfg(any(
         target_arch = "x86",
         target_arch = "arm",
-        target_arch = "csky"
+        target_arch = "csky",
+        target_arch = "riscv32"
     ))] {
         pub const FS_IOC_GETFLAGS: Ioctl = 0x80046601;
         pub const FS_IOC_SETFLAGS: Ioctl = 0x40046602;
